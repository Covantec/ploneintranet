<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/search_template/macros/search"
      i18n:domain="ploneintranet">

    <metal:results fill-slot="results">
        <div class="container results"
             tal:define="search_response view/search_files">

            <p><span tal:replace="search_response/total_results">87</span> items matched your search.</p>

            <div class="office results pat-masonry office-files" data-pat-masonry="column-width: .item; gutter: 0;">
                <tal:result repeat="result search_response/results">
                    <a tal:attributes="href result/url" class="item">
                        <figure>
                            <img tal:define="spacer python:result.description and ' - ' or ' '"
                                 tal:attributes="src result/preview_image_url;
                                                 title string:${result/title}${spacer}${result/description} "/>
                            <figcaption tal:attributes="class string:icon-${result/document_type}">
                                <tal:title tal:replace="result/title" />
                            </figcaption>
                        </figure>
                    </a>
                </tal:result>
            </div>
        </div>
    </metal:results>
</html>
