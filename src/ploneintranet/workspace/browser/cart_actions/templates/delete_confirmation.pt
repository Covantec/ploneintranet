<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      i18n:domain="ploneintranet">

  <h1 i18n:translate="">Batch delete</h1>

  <form method="POST" action="cart-delete">

    <div class="panel-body"
         tal:define="items view/items">
      <article>
      <p i18n:translate="">
      You've selected the following <strong i18n:name="num_items">${python:len(items)}</strong> items to be deleted. Are you sure? (un-tick to exclude from deletion)
      </p>
      </article>


      <fieldset class="pat-checklist"
                tal:define="checkPermission nocall: context/portal_membership/checkPermission">
        <tal:item repeat="item items">
          <label tal:define="can_delete python:checkPermission('Delete objects', item)">
            <input type="checkbox" name="uids:list" value="${item/UID}"
                   tal:attributes="disabled python:not can_delete and 'disabled';
                                   checked python:can_delete and 'checked'"/> ${item/Title}
        </label>
        <br />
        </tal:item>
    </fieldset>
    </div>

    <div class="buttons panel-footer">
      <span tal:replace="structure context/@@authenticator/authenticator"/>

      <button type="submit" class="icon-ok-circle pat-shopping-cart"
              data-pat-shopping-cart="action: empty" i18n:translate="">
        I am sure, delete now
      </button>
      <button type="button" class="close-panel icon-cancel-circle" i18n:translate="">
        Cancel
      </button>
    </div>
  </form>

</html>
